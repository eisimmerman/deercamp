<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>DeerCamp — Capture the moments that become legacy</title>

  <link rel="stylesheet" href="/style.css?v=84" />

  <style>
    /* =========================
       GLOBAL LAYOUT STABILIZATION
       (scoped, minimal, production-safe)
       ========================= */

    /* Prevent accidental huge section heights from older CSS */
    .section {
      padding: clamp(28px, 5vw, 64px) 0 !important;
      margin: 0 !important;
      min-height: 0 !important;
    }

    /* Normalize wrap widths; prevents sections from stretching weirdly */
    .wrap {
      width: min(1100px, calc(100% - 48px));
      margin: 0 auto;
    }
    @media (max-width: 560px) {
      .wrap { width: calc(100% - 28px); }
    }

    /* If older CSS created giant vertical spacing after hero/section-head */
    .section-head { margin: 0 0 18px !important; }
    .section-head h2 { margin: 0 0 10px !important; }
    .section-subtitle { margin: 0 !important; }

    /* Back-to-top buttons should not create “empty blocks” */
    .back-top {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      margin: 14px 0 0 !important;
    }

    /* =========================
       NAV: bigger + labeled toggle
       ========================= */
    .nav-toggle{
      display:inline-flex;align-items:center;gap:10px;
      padding:12px 14px;border-radius:12px;
      min-height:48px;min-width:56px;touch-action:manipulation
    }
    .nav-toggle .menu-label{font-size:14px;font-weight:600;letter-spacing:.2px;opacity:.85}

    /* =========================
       CAMP CARDS GRID
       ========================= */
    .shot-grid{display:grid;grid-template-columns:repeat(4,minmax(0,1fr));gap:18px;margin-top:18px}
    @media (max-width:980px){.shot-grid{grid-template-columns:repeat(2,minmax(0,1fr))}}
    @media (max-width:560px){.shot-grid{grid-template-columns:1fr}}

    figure.shot{
      margin:0;display:flex;flex-direction:column;gap:12px;border-radius:18px;
      overflow:hidden;background:rgba(255,255,255,.35);
      box-shadow:0 10px 24px rgba(0,0,0,.08);border:1px solid rgba(0,0,0,.06)
    }
    .shot-open{
      display:block;width:100%;border:0;padding:0;margin:0;cursor:pointer;
      background:#efe8dc;aspect-ratio:4/3;overflow:hidden
    }
    .shot-open img{
      width:100%!important;height:100%!important;display:block!important;object-fit:cover!important;
      opacity:1!important;visibility:visible!important;transform:none!important
    }
    figure.shot figcaption{padding:14px 14px 16px;display:flex;flex-direction:column;gap:10px}
    figure.shot h3{margin:0;font-size:22px;line-height:1.05}
    .play-btn{
      align-self:flex-start;border:1px solid rgba(0,0,0,.55);
      background:rgba(255,255,255,.65);border-radius:10px;padding:8px 10px;
      font-weight:700;cursor:pointer;min-height:40px;touch-action:manipulation
    }

    /* =========================
       MOBILE VIEWER
       ========================= */
    .dc-viewer{position:fixed;inset:0;display:none;align-items:center;justify-content:center;padding:18px;background:rgba(0,0,0,.62);z-index:9999}
    .dc-viewer[aria-hidden="false"]{display:flex}
    .dc-viewer-card{width:min(920px,100%);max-height:min(86vh,820px);background:#fff;border-radius:18px;overflow:hidden;box-shadow:0 12px 40px rgba(0,0,0,.25);display:grid;grid-template-rows:auto 1fr auto}
    .dc-viewer-head{display:flex;align-items:center;justify-content:space-between;padding:12px 14px;border-bottom:1px solid rgba(0,0,0,.08);gap:10px}
    .dc-viewer-title{font-size:16px;font-weight:800;margin:0;line-height:1.2;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}
    .dc-viewer-close{border:0;background:rgba(0,0,0,.06);border-radius:12px;padding:10px 12px;cursor:pointer;font-weight:800;min-height:44px;touch-action:manipulation}
    .dc-viewer-body{overflow:auto;background:#f6f6f6;display:grid;place-items:center;padding:10px}
    .dc-viewer-body img{width:100%;height:auto;max-height:68vh;object-fit:contain;border-radius:12px;background:#fff}
    .dc-viewer-controls{display:flex;gap:10px;align-items:center;justify-content:space-between;padding:12px 14px;border-top:1px solid rgba(0,0,0,.08);flex-wrap:wrap}
    .dc-btn{border:0;background:rgba(0,0,0,.07);border-radius:12px;padding:10px 12px;cursor:pointer;font-weight:800;min-height:44px;touch-action:manipulation}
    .dc-btn.primary{background:rgba(0,0,0,.12)}
    .dc-viewer-hint{font-size:13px;opacity:.75;margin-left:auto}
    @media (min-width:981px){.dc-viewer-hint{display:none}}
  </style>
</head>

<body>
<div id="top"></div>

<header class="site-header">
  <div class="nav-wrap">
    <a class="brand" href="#top">DeerCamp</a>

    <nav class="site-nav" aria-label="Primary">
      <a href="#how">How it works</a>
      <a href="#camp">What is a Camp?</a>
      <a href="#origin">Origin</a>
      <a href="#campcards">CampCards</a>
      <a href="#screens">App Screens</a>
      <a href="#privacy">Privacy</a>
    </nav>

    <a class="nav-cta"
       href="https://play.google.com/store/apps/details?id=com.simmerman.deercamp"
       target="_blank" rel="noopener">
      Get the app
    </a>

    <button class="nav-toggle" id="navToggle" aria-expanded="false" aria-controls="navDrawer" aria-label="Open menu">
      <span></span><span></span><span></span>
      <span class="menu-label" aria-hidden="true">Menu</span>
    </button>
  </div>

  <div class="nav-drawer" id="navDrawer" aria-hidden="true">
    <div class="nav-drawer-inner">
      <div class="nav-drawer-links">
        <a href="#how">How it works</a>
        <a href="#camp">What is a Camp?</a>
        <a href="#origin">Origin</a>
        <a href="#campcards">CampCards</a>
        <a href="#screens">App Screens</a>
        <a href="#privacy">Privacy</a>
      </div>

      <a class="drawer-cta"
         href="https://play.google.com/store/apps/details?id=com.simmerman.deercamp"
         target="_blank" rel="noopener">
        Download on Google Play
      </a>
    </div>
  </div>
</header>

<section class="hero">
  <div class="hero-inner">
    <h1>Capture the moments that become legacy.</h1>
    <p class="hero-sub">A private memory engine built for camp life.</p>
    <p class="hero-sub mobile-hero-copy">
      A living archive for camp life.<br>
      Moments, photos, and voice notes — kept private and preserved.<br>
      <strong>This isn’t social media. It’s protecting what matters.</strong>
    </p>

    <div class="hero-actions">
      <a class="primary-button"
         href="https://play.google.com/store/apps/details?id=com.simmerman.deercamp"
         target="_blank" rel="noopener">
        Download on Google Play
      </a>
    </div>
  </div>
</section>

<section id="how" class="section">
  <div class="wrap">
    <div class="section-head">
      <h2>How it works</h2>
      <p class="section-subtitle">
        Create a memory in seconds: record a voice note, add a photo, and write a quick caption — even after a long day in camp.
      </p>
    </div>
    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>
  </div>
</section>

<section id="camp" class="section">
  <div class="wrap">
    <div class="section-head">
      <h2>What is a Camp?</h2>
      <p class="section-subtitle">
        A Camp is your circle — the people you trust. DeerCamp is built for your memories first.
      </p>
    </div>
    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>
  </div>
</section>

<section id="origin" class="section">
  <div class="wrap">
    <div class="section-head">
      <h2>Origin</h2>
      <p class="section-subtitle">
        DeerCamp was built to protect the stories that used to live around a fire — and keep them for the next generation.
      </p>
    </div>
    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>
  </div>
</section>

<section id="campcards" class="section">
  <div class="wrap">
    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>

    <div class="section-head">
      <h2>CampCards</h2>
      <p class="section-subtitle">Twelve voice-first memories that show what DeerCamp is for.</p>
    </div>

    <div class="shot-grid" id="campcardsGrid">
      <figure class="shot has-audio" data-title="Ben’s First Buck" data-img="/campcards/images/bens-first-buck.png" data-audio="/campcards/audio/bens-first-buck.mp3">
        <button class="shot-open" type="button" aria-label="View Ben’s First Buck"><img src="/campcards/images/bens-first-buck.png" alt="Ben’s First Buck"></button>
        <figcaption><h3>Ben’s First Buck</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Brittney’s First Deer" data-img="/campcards/images/brittneys-first-deer.png" data-audio="/campcards/audio/brittneys-first-deer.mp3">
        <button class="shot-open" type="button" aria-label="View Brittney’s First Deer"><img src="/campcards/images/brittneys-first-deer.png" alt="Brittney’s First Deer"></button>
        <figcaption><h3>Brittney’s First Deer</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Camp Tracker" data-img="/campcards/images/camp-tracker.png" data-audio="/campcards/audio/camp-tracker.mp3">
        <button class="shot-open" type="button" aria-label="View Camp Tracker"><img src="/campcards/images/camp-tracker.png" alt="Camp Tracker"></button>
        <figcaption><h3>Camp Tracker</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Campfire Camaraderie" data-img="/campcards/images/campfire-camaraderie.png" data-audio="/campcards/audio/campfire-camaraderie.mp3">
        <button class="shot-open" type="button" aria-label="View Campfire Camaraderie"><img src="/campcards/images/campfire-camaraderie.png" alt="Campfire Camaraderie"></button>
        <figcaption><h3>Campfire Camaraderie</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Fall Scouting" data-img="/campcards/images/fall-scouting.png" data-audio="/campcards/audio/fall-scouting.mp3">
        <button class="shot-open" type="button" aria-label="View Fall Scouting"><img src="/campcards/images/fall-scouting.png" alt="Fall Scouting"></button>
        <figcaption><h3>Fall Scouting</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="First Coffee" data-img="/campcards/images/first-coffee.png" data-audio="/campcards/audio/first-coffee.mp3">
        <button class="shot-open" type="button" aria-label="View First Coffee"><img src="/campcards/images/first-coffee.png" alt="First Coffee"></button>
        <figcaption><h3>First Coffee</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="First Snow" data-img="/campcards/images/first-snow.png" data-audio="/campcards/audio/first-snow.mp3">
        <button class="shot-open" type="button" aria-label="View First Snow"><img src="/campcards/images/first-snow.png" alt="First Snow"></button>
        <figcaption><h3>First Snow</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Grandma’s Kitchen" data-img="/campcards/images/grandmas-kitchen.png" data-audio="/campcards/audio/grandmas-kitchen.mp3">
        <button class="shot-open" type="button" aria-label="View Grandma’s Kitchen"><img src="/campcards/images/grandmas-kitchen.png" alt="Grandma’s Kitchen"></button>
        <figcaption><h3>Grandma’s Kitchen</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Grandpa’s Biggest Buck" data-img="/campcards/images/grandpas-biggest-buck.png" data-audio="/campcards/audio/grandpas-biggest-buck.mp3">
        <button class="shot-open" type="button" aria-label="View Grandpa’s Biggest Buck"><img src="/campcards/images/grandpas-biggest-buck.png" alt="Grandpa’s Biggest Buck"></button>
        <figcaption><h3>Grandpa’s Biggest Buck</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Dad Deer" data-img="/campcards/images/dad-deer.png" data-audio="/campcards/audio/dad-deer.mp3">
        <button class="shot-open" type="button" aria-label="View Dad Deer"><img src="/campcards/images/dad-deer.png" alt="Dad Deer"></button>
        <figcaption><h3>Dad Deer</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Deer Den" data-img="/campcards/images/deer-den.png" data-audio="/campcards/audio/deer-den.mp3">
        <button class="shot-open" type="button" aria-label="View Deer Den"><img src="/campcards/images/deer-den.png" alt="Deer Den"></button>
        <figcaption><h3>Deer Den</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>

      <figure class="shot has-audio" data-title="Comments" data-img="/campcards/images/comments.png" data-audio="/campcards/audio/comments.mp3">
        <button class="shot-open" type="button" aria-label="View Comments"><img src="/campcards/images/comments.png" alt="Comments"></button>
        <figcaption><h3>Comments</h3><button class="play-btn" type="button">▶ Play</button></figcaption>
      </figure>
    </div>

    <div class="cta-row" style="margin-top:22px;">
      <a href="https://play.google.com/store/apps/details?id=com.simmerman.deercamp"
         target="_blank" rel="noopener"
         class="primary-button">
        Download on Google Play
      </a>
    </div>

    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>
  </div>
</section>

<section id="screens" class="section">
  <div class="wrap">
    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>
    <div class="section-head">
      <h2>App Screens</h2>
      <p class="section-subtitle">Clean. Simple. Built for camp life.</p>
    </div>
    <div class="feature-card">
      <h3>Coming next</h3>
      <p>Add your real app screenshots here once you confirm the file paths.</p>
    </div>
    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>
  </div>
</section>

<section id="privacy" class="section">
  <div class="wrap">
    <div class="section-head">
      <h2>Privacy</h2>
      <p class="section-subtitle">This isn’t social media. DeerCamp is built for privacy — so your memories stay with your camp.</p>
    </div>
    <a class="back-top" href="#top" aria-label="Back to top">Back to top ↑</a>
  </div>
</section>

<section class="final-cta">
  <div class="wrap">
    <a href="#top" class="back-top">Back to top ↑</a>
  </div>
</section>

<div class="dc-viewer" id="dcViewer" aria-hidden="true" role="dialog" aria-modal="true">
  <div class="dc-viewer-card" role="document">
    <div class="dc-viewer-head">
      <p class="dc-viewer-title" id="dcViewerTitle">CampCard</p>
      <button class="dc-viewer-close" id="dcViewerClose" type="button" aria-label="Close">Close ✕</button>
    </div>
    <div class="dc-viewer-body"><img id="dcViewerImg" src="" alt=""></div>
    <div class="dc-viewer-controls">
      <button class="dc-btn" id="dcPrev" type="button">← Prev</button>
      <button class="dc-btn primary" id="dcPlay" type="button">▶ Play</button>
      <button class="dc-btn" id="dcNext" type="button">Next →</button>
      <span class="dc-viewer-hint">Tip: Use Prev/Next</span>
    </div>
  </div>
</div>

<script>
  // NAV drawer
  (function () {
    const toggle = document.getElementById('navToggle');
    const drawer = document.getElementById('navDrawer');
    if (!toggle || !drawer) return;

    const openDrawer = () => { toggle.setAttribute('aria-expanded','true'); drawer.setAttribute('aria-hidden','false'); };
    const closeDrawer = () => { toggle.setAttribute('aria-expanded','false'); drawer.setAttribute('aria-hidden','true'); };
    const isOpen = () => toggle.getAttribute('aria-expanded') === 'true';

    toggle.addEventListener('click', () => isOpen() ? closeDrawer() : openDrawer());
    drawer.querySelectorAll('a[href^="#"]').forEach(a => a.addEventListener('click', closeDrawer));
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && isOpen()) closeDrawer(); });
    drawer.addEventListener('click', (e) => { if (e.target === drawer) closeDrawer(); });
  })();

  // CampCards audio: one audio at a time + true pause
  (function () {
    const grid = document.getElementById('campcardsGrid');
    if (!grid) return;

    const cards = Array.from(grid.querySelectorAll('figure.shot.has-audio'));
    if (!cards.length) return;

    const audio = new Audio();
    audio.preload = 'none';

    let activeBtn = null;
    let activeCard = null;
    let currentIndex = -1;

    const viewer = document.getElementById('dcViewer');
    const viewerTitle = document.getElementById('dcViewerTitle');
    const viewerImg = document.getElementById('dcViewerImg');
    const btnClose = document.getElementById('dcViewerClose');
    const btnPrev = document.getElementById('dcPrev');
    const btnNext = document.getElementById('dcNext');
    const btnPlay = document.getElementById('dcPlay');

    const isMobile = () => window.matchMedia('(max-width: 980px)').matches;
    const abs = (p) => new URL(p, window.location.href).href;

    const setBtn = (btn, state) => { if (btn) btn.textContent = (state === 'pause') ? '⏸ Pause' : '▶ Play'; };

    function stopAudio(){
      audio.pause();
      if (activeBtn) setBtn(activeBtn,'play');
      activeBtn = null;
      activeCard = null;
      if (btnPlay) btnPlay.textContent = '▶ Play';
    }

    function togglePlay(card, btn){
      const rel = card.getAttribute('data-audio') || '';
      if (!rel) return;

      const nextSrc = abs(rel);

      // If user clicks a different card while one is playing, switch cleanly
      const switching = audio.src && audio.src !== nextSrc;

      if (switching) {
        stopAudio();
        audio.src = nextSrc;
        audio.currentTime = 0;
      } else if (!audio.src) {
        audio.src = nextSrc;
      }

      // If the same card, just toggle pause/play without resetting time
      const sameCard = activeCard === card;

      if (audio.paused) {
        audio.play().then(() => {
          // update previous
          if (activeBtn && activeBtn !== btn) setBtn(activeBtn,'play');
          activeBtn = btn;
          activeCard = card;
          setBtn(btn,'pause');
          if (btnPlay) btnPlay.textContent = '⏸ Pause';
        }).catch(()=>{});
      } else {
        // If playing and same card -> pause. If playing but different card -> should not happen due to switching.
        audio.pause();
        if (sameCard) {
          setBtn(btn,'play');
          if (btnPlay) btnPlay.textContent = '▶ Play';
        } else {
          // safety
          stopAudio();
        }
      }

      audio.onended = () => stopAudio();
    }

    function loadCard(index){
      const card = cards[index];
      if (!card) return;
      currentIndex = index;

      viewerTitle.textContent = card.getAttribute('data-title') || 'CampCard';
      const img = card.getAttribute('data-img') || '';
      viewerImg.src = img;
      viewerImg.alt = viewerTitle.textContent;

      stopAudio();
      const aud = card.getAttribute('data-audio') || '';
      audio.src = aud ? abs(aud) : '';
      audio.currentTime = 0;
      if (btnPlay) btnPlay.textContent = '▶ Play';
    }

    const openViewer = (index) => { loadCard(index); viewer.setAttribute('aria-hidden','false'); document.body.style.overflow='hidden'; };
    const closeViewer = () => { viewer.setAttribute('aria-hidden','true'); document.body.style.overflow=''; stopAudio(); };
    const prev = () => loadCard((currentIndex - 1 + cards.length) % cards.length);
    const next = () => loadCard((currentIndex + 1) % cards.length);

    const viewerPlayPause = () => {
      if (!audio.src) return;
      if (audio.paused) {
        audio.play().then(()=>{ btnPlay.textContent='⏸ Pause'; }).catch(()=>{});
      } else {
        audio.pause();
        btnPlay.textContent='▶ Play';
      }
      audio.onended = () => { btnPlay.textContent='▶ Play'; };
    };

    cards.forEach((card, index) => {
      const playBtn = card.querySelector('.play-btn');
      const openBtn = card.querySelector('.shot-open');

      if (playBtn) playBtn.addEventListener('click', () => togglePlay(card, playBtn));
      if (openBtn) openBtn.addEventListener('click', () => { if (isMobile()) openViewer(index); });
    });

    if (btnClose) btnClose.addEventListener('click', closeViewer);
    if (btnPrev) btnPrev.addEventListener('click', prev);
    if (btnNext) btnNext.addEventListener('click', next);
    if (btnPlay) btnPlay.addEventListener('click', viewerPlayPause);

    if (viewer) viewer.addEventListener('click', (e) => { if (e.target === viewer) closeViewer(); });
    document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && viewer.getAttribute('aria-hidden') === 'false') closeViewer(); });
    window.addEventListener('resize', () => { if (!isMobile() && viewer.getAttribute('aria-hidden') === 'false') closeViewer(); });
  })();
</script>

</body>
</html>
